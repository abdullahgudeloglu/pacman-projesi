<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Abdullah'ın Pacman Oyunu</title>
    <style>
        body {
            background-color: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: white;
            font-family: sans-serif;
        }
        canvas {
            background-color: #000;
            border: 4px solid #333;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <div>
        <h2 style="text-align:center;">Pacman Oyunu</h2>
        <canvas id="oyunEkrani" width="600" height="600"></canvas>
        <p style="text-align:center;">Yön tuşlarını kullanarak hareket et!</p>
    </div>

<script>
    const canvas = document.getElementById("oyunEkrani");
    const ctx = canvas.getContext("2d");

    // Pacman Ayarları
    let pacman = {
        x: 300,
        y: 300,
        size: 20,
        speed: 5,
        mouthOpen: 0.2,
        mouthSpeed: 0.05
    };

    // Yem Ayarları
    let food = {
        x: Math.random() * (canvas.width - 40) + 20,
        y: Math.random() * (canvas.height - 40) + 20,
        size: 8
    };

    let score = 0;
    let keys = {};

    // Tuşları Dinle
    window.addEventListener("keydown", function(e) {
        keys[e.key] = true;
    });
    window.addEventListener("keyup", function(e) {
        keys[e.key] = false;
    });

    function update() {
        // Hareket
        if (keys["ArrowUp"] && pacman.y > pacman.size) pacman.y -= pacman.speed;
        if (keys["ArrowDown"] && pacman.y < canvas.height - pacman.size) pacman.y += pacman.speed;
        if (keys["ArrowLeft"] && pacman.x > pacman.size) pacman.x -= pacman.speed;
        if (keys["ArrowRight"] && pacman.x < canvas.width - pacman.size) pacman.x += pacman.speed;

        // Ağız Animasyonu
        pacman.mouthOpen += pacman.mouthSpeed;
        if (pacman.mouthOpen > 0.2 || pacman.mouthOpen < 0) {
            pacman.mouthSpeed = -pacman.mouthSpeed;
        }

        // Yem Yeme Kontrolü (Çarpışma)
        let dx = pacman.x - food.x;
        let dy = pacman.y - food.y;
        let distance = Math.sqrt(dx * dx + dy * dy);

        if (distance < pacman.size + food.size) {
            // Yemi yedi, yeni yere ışınla
            food.x = Math.random() * (canvas.width - 40) + 20;
            food.y = Math.random() * (canvas.height - 40) + 20;
            score += 10;
        }
    }

    function draw() {
        // Ekranı Temizle
        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Yemi Çiz
        ctx.fillStyle = "red";
        ctx.beginPath();
        ctx.arc(food.x, food.y, food.size, 0, Math.PI * 2);
        ctx.fill();

        // Pacman'i Çiz
        ctx.fillStyle = "yellow";
        ctx.beginPath();
        // Ağzın yönüne göre çizim yapılabilir ama basit tutmak için sabit çiziyoruz
        ctx.arc(pacman.x, pacman.y, pacman.size, pacman.mouthOpen * Math.PI, (2 - pacman.mouthOpen) * Math.PI);
        ctx.lineTo(pacman.x, pacman.y);
        ctx.fill();

        // Skoru Yaz
        ctx.fillStyle = "white";
        ctx.font = "20px Arial";
        ctx.fillText("Puan: " + score, 10, 30);
    }

    function gameLoop() {
        update();
        draw();
        requestAnimationFrame(gameLoop);
    }

    // Oyunu Başlat
    gameLoop();

</script>

</body>
</html>
